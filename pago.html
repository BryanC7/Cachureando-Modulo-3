<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Cachureando</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
            crossorigin="anonymous">
        <link rel="stylesheet" href="/css/pago.css">
        <link rel="stylesheet" href="/css/style.css">
        <script type="text/javascript"
            src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
        <script type="text/javascript">
        (function() {
            // https://dashboard.emailjs.com/admin/account
            emailjs.init('pb6kz97fw3xs0gDgA');
        })();
    </script>
        <script type="text/javascript">
                
        function enviar() {
            var nombre1= document.getElementById('nombrecliente').value;
            var correo1= document.getElementById('correocliente').value;
            var mensajecliente1= document.getElementById('mensajeenviar').value;
            var totalcompra= document.getElementsByClassName('fw-bold').value;
            var espacio= ' ';
            var newelement = '';
            carrito.forEach(producto => {
        console.log(producto)
        newelement= newelement + espacio + producto.nombre + espacio + producto.cantidad + espacio +producto.precio + '\n';
        })

            var templateParams= {
                nombre: nombre1,
                correo: correo1,
                mensajecliente: mensajecliente1,
                carritoenviar: newelement,
                total: totales[0].totalTotal

        }
        ;
                emailjs.send("pago_carrito","template_w82u42h",templateParams)
                    .then(res =>  {
                        console.log(res);
                    })
                    .catch(err => console.log(err));
        };
        
    </script>
    </head>
    <body>
        <div class="container">
            <div class="bg-nav navbar">
                <p class="titulo">Cachureando</p>
                <nav class="nav">
                    <a class="nav-link" href="index.html">Inicio</a>
                    <a class="nav-link" href="#">Nosotros</a>
                    <a class="nav-link" href="#">Productos</a>
                </nav>
            </div>
        </div>
        <div class="fondo"></div>

        <main class="container">

            <h4>Carrito</h4>
            <div class="contenedor" id="contenedor-productos"></div>
            <div class="contenedor" id="contenedor-precio"></div>

            <h4>Métodos de pago</h4>
            <div class="contenedor-check">
                <div class="form-check">
                    <input class="form-check-input" type="radio"
                        name="flexRadioDefault" id="flexRadioDefault1">
                    <label class="form-check-label" for="flexRadioDefault1">Tarjeta
                        Débito/Crédito</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio"
                        name="flexRadioDefault" id="flexRadioDefault2">
                    <label class="form-check-label" for="flexRadioDefault2">Transferencia
                        bancaria</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio"
                        name="flexRadioDefault" id="flexRadioDefault2">
                    <label class="form-check-label" for="flexRadioDefault2">Cheques</label>
                </div>
            </div>

            <h4>Datos de despacho</h4>
            <form>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Dirección</label>
                    <input type="email" id="mensajeenviar" class="form-control"
                        id="exampleInputEmail1" aria-describedby="emailHelp">
                </div>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Comuna</label>
                    <input type="email" class="form-control"
                        id="exampleInputEmail1" aria-describedby="emailHelp">
                </div>
                <div class="mb-3">
                    <label for="exampleInputEmail1" class="form-label">Región</label>
                    <input type="email" class="form-control"
                        id="exampleInputEmail1" aria-describedby="emailHelp">
                </div>
                <div class="mb-3">
                    <label for="exampleInputPassword1" class="form-label">Nombre
                        de quién recibe</label>
                    <input id="nombrecliente" type="password"
                        class="form-control" id="exampleInputPassword1">
                </div>
            </form>

            <h4>Envio de Comprobante</h4>
            <div>
                <input type="text" id="correocliente" class="form-control mb-3"
                    placeholder="Ingrese su correo electrónico"
                    aria-describedby="button-addon2">
                <button type="button" class="btn btn-outline-secondary"
                    onclick="enviar()">Enviar</button>
            </div>

        </main>

        <footer class="footer">
            <p class="container text">Todos los derechos reservados, 2023</p>
        </footer>
    </body>
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
    <script src="/js/pago.js"></script>
</html>

<!-- carrito.pago2@gmail.com PagoCarrito1234 -->